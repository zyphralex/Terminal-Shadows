#!/bin/bash
cd "$(dirname "$0")"
echo "üî• TERMINAL SHADOWS v4.0 ULTIMATE EDITION üî•"
echo "=============================================="
echo "üìñ 40 –≥–ª–∞–≤ | üé≤ –°–æ–±—ã—Ç–∏—è | üëπ –ë–æ—Å—Å—ã"
echo "üî® –ö—Ä–∞—Ñ—Ç | üé≠ –§—Ä–∞–∫—Ü–∏–∏ | üèÜ 20 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π"
echo "=============================================="
echo ""

if [ -f "venv/bin/activate" ]; then
    echo "‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..."
    source venv/bin/activate
    echo "‚úÖ –û–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ"
else
    echo ""
    echo "‚ùå –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!"
    echo "üì• –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ: ./install.sh"
    echo ""
    read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞..."
    exit 1
fi

echo ""
echo "üöÄ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã..."
echo ""

python3 main.py
EXIT_CODE=$?

if [ $EXIT_CODE -ne 0 ]; then
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã! –ö–æ–¥ –æ—à–∏–±–∫–∏: $EXIT_CODE"
    echo "üìù –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Python3 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ –º–µ—Å—Ç–µ"
    echo ""
    read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞..."
fi
